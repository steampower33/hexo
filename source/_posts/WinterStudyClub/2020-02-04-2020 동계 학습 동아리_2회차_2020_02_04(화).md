---
title:  "2020 동계 학습 동아리_2회차_2020_02_04(화)"

categories:
  - 2020WinterStudyClub
tags:
  - Activity

date: 2020-02-04 20:00:00
---

## 1. 문제

카카오코딩페스티벌2018 예선 B번 [인형들](https://www.acmicpc.net/problem/15954)를 해결한다.  
해결하는 과정에서 부족한 부분의 지식을 따로 공부하고 정리한다.

## 2. 필요한 지식
- python3로 해결하기때문에 python3의 전반적인 문법이 필요하다.
- 시간복잡도가 O(N^2)으로 해결해야한다. O(N^3)으로 해결하면 시간초과가 뜬다.
- 평균, 분산, 표준편차의 개념에 대해서 알아야한다.
- 일일히 분산구하고, 평균구하고, 표준편차를 구하면 시간초과가 뜬다.
- 그렇기 때문에 (분산) = (제곱의 평균) – (평균) * (평균) 의 특징을 알아야한다.
- 누적합과 제곱의 평균의 배열을 만들어서, 미리 설정해서 값을 넣어주고, 나중에 한꺼번에 사용한다.
- python3에서 무한대를 나타낼때, "INF"의 형식으로 사용한다.

## 3. 해결
[B 인형들 해결](https://steampower33.github.io/백준/백준-15954-인형들/)
이 문제는 입력으로 들어오는 K개이상 연속된 인형들의 가중치의 평균과 분산, 표준편차를 계산하고, 최종적으로 가장 낮은 표준편차를 구해야한다.  
과거 알고리즘 수업을 들을때, 고민하지말고, 일단 생각나는 방법이 있으면 바로 코딩을 하라는 조교님의 말씀대로 아래와 같이 O(N^3)으로 접근했다. 
하지만 이 코드는 시간초과 혹은 틀린 답으로 나온다. 예제는 잘 나오는데 답은 아니라고 나온다.  

```python
import math

N, K = map(int, input().split())
arr = list(map(int,input().split()))
re = 987654321

for i in range(len(arr)-K+1): #시작.
    for j in range(i+K,len(arr)+1): #끝.
        com = arr[i:j]
        if len(com) < K: continue
        # 평균.
        mean = sum(com) / len(com)

        # 분산.
        var = 0
        for i in range(len(com)):
            var += (com[i] - mean) ** 2
        var = var/len(com)

        # 표준편차
        std = math.sqrt(var)

        # print(com)
        # print(mean, var, std)
        # print()

        re = min(re, std)

print(str(re)[0:13])
```

### 2-1. 오답 이유

- 첫번째로 [참고1](https://tech.kakao.com/2018/08/09/code-festival-2018-round-1/)에서 "절대/상대 오차가 10-6이므로, 실수의 정밀도 관련 문제에 대해 어느 정도 고려할 필요가 있습니다." 라고 한다.  [Decimal](https://docs.python.org/ko/3/library/decimal.html)에서의 이유로 파이썬에서는 부동소수 산술을 컨트롤하기위해 Decimal을 사용해주어야한다.

- 두번째로 시간복잡도가 O(N^3)이다. 통과하려면 그 이하가 되어야한다.

### 2-2. 핵심

- 해결한 파이썬 코드를 살펴보면, 주석에서 "(분산) = (제곱의 평균) – (평균) * (평균) 이라는 성질이 알려져 있습니다. 그러므로 누적 합 배열과 제곱의 누적 합 배열을 만들면, 쉽게 풀수있다."를 이용하면, O(N^2)으로 해결할수있다.

### 2-3. 시행착오

- 해결한 파이썬 코드에서 아래와 같은 코드가 있다.

```python
re = Decimal('INF')
```

- 이전의 코드는 아래와 같았다.

```python
INF = 987654321
re = Decimal(INF)
```

- 근데 아래의 코드는 오답으로 나왔다. 다푼거나 다름 없었는데, 이부분에서 계속 삽질을 했다. 알고보니 파이썬에서는 무한대를 아래와 같이 나타낼수 있었다. 이제 알았으니, 앞으로는 이렇게 사용해야겠다.

```python
pos_inf = float('inf')     # positive infinity
neg_inf = float('-inf')    # negative infinity
```

## 3. 리뷰
처음 문제를 접했을때 글이 너무 많아서 난감했다. 그런데 다행히 난독이 있는지 한번에 몇글자 안읽히더라. 하나하나 정성스럽게 다 읽고 문제를 풀었는데, 이번엔 문제를 잘못이해했다. 연속된 숫자 개수가 K개 이상인데, K개만 구하게 했다. 그 뒤에도 뭐 안되서 헤맨게 있는데 기억이 안난다. 이건 시행착오에 들어가야할거같은데, 왜 리뷰에 쓰고있는지 모르겠다. 그런데 다시생각해보면 사실 여기서 시행착오라 함은 코딩과 관련된 것이지 않을까 싶다. 단순한 뇌절이므로, 리뷰에 넣어도 괜찮을것같다.